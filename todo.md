# AI学术论文写作平台 - 项目待办清单

## 数据库设计
- [x] 设计论文表（papers）存储论文信息
- [x] 设计论文类型枚举（毕业论文、期刊论文、开题报告、职称论文）
- [x] 设计论文状态枚举（生成中、已完成、失败）
- [x] 执行数据库迁移

## 后端API开发
- [x] 创建论文生成API（生成大纲）
- [x] 创建论文全文生成API（根据大纲生成全文）
- [x] 创建论文列表查询API
- [x] 创建论文详情查询API
- [x] 创建论文删除API
- [x] 集成LLM生成学术论文大纲功能
- [x] 集成LLM生成学术论文全文功能
- [x] 实现论文导出为Word格式功能
- [x] 实现论文导出为PDF格式功能
- [x] 将导出的文档上传到S3云存储

## 前端界面开发
- [x] 设计优雅完美的整体视觉风格（色彩方案、字体、间距）
- [x] 创建首页（论文类型选择和标题输入界面）
- [x] 创建论文生成页面（显示大纲和全文生成进度）
- [x] 创建论文详情页面（查看大纲和全文内容）
- [x] 创建论文历史记录页面（管理用户的所有论文）
- [x] 实现实时进度提示UI组件
- [x] 实现论文导出下载功能
- [x] 实现响应式设计（移动端适配）

## 用户认证
- [x] 集成Manus OAuth登录功能
- [x] 实现受保护路由（需要登录才能访问）
- [x] 实现用户退出登录功能

## 测试和优化
- [x] 编写后端API单元测试
- [x] 测试论文生成完整流程
- [x] 测试文档导出功能
- [x] 优化LLM提示词以提高论文质量
- [x] 优化UI交互体验
- [x] 性能优化和错误处理

## 部署和交付
- [x] 创建项目检查点
- [x] 向用户交付完整系统

## 在线编辑器功能（新增）
- [x] 扩展数据库schema添加版本历史表
- [x] 创建版本历史相关的数据库查询函数
- [x] 创建保存编辑内容的API
- [x] 创建获取版本历史列表的API
- [x] 创建恢复历史版本的API
- [x] 集成富文本编辑器组件（支持Markdown）
- [x] 实现大纲编辑功能
- [x] 实现全文编辑功能
- [x] 实现自动保存机制（防抖）
- [x] 实现版本历史查看界面
- [x] 实现版本对比功能
- [x] 实现版本恢复功能
- [x] 编写编辑器相关的单元测试

## SEO优化（新增）
- [x] 添加首页页面标题（30-60字符）
- [x] 添加首页meta描述（50-160字符）
- [x] 添加首页关键诏meta标签
- [x] 在首页添加H2标题

## 参考文献管理功能（新增）
- [x] 扩展数据库schema添加参考文献表
- [x] 设计参考文献数据模型（标题、作者、期刊、年份、DOI等）
- [x] 开发学术数据库搜索API（模拟CNKI/万方检索）
- [x] 实现参考文献自动检索功能
- [x] 实现参考文献插入和管理功能
- [x] 支持GB/T 7714引用格式
- [x] 支持APA引用格式
- [x] 支持其他常用引用格式
- [ ] 在编辑器中添加参考文献管理界面

## 论文质量检测功能（新增）
- [x] 扩展数据库schema添加质量检测记录表
- [x] 开发查重检测功能（基于文本相似度算法）
- [x] 开发学术规范检查功能
- [x] 开发语法纠错功能
- [x] 实现论文质量评分算法
- [x] 生成改进建议报告
- [ ] 创建质量检测结果展示界面
- [x] 添加质量检测API

## AI润色功能（新增）
- [x] 开发文本选中润色API
- [x] 实现语言表达优化功能
- [x] 实现语法错误修正功能
- [x] 实现学术用语调整功能
- [x] 生成多个改写建议供用户选择
- [ ] 在编辑器中集成润色功能按钮
- [ ] 实现文本选中后显示润色选项
- [ ] 添加润色历史记录

## 测试和优化
- [x] 编写参考文献管理的单元测试
- [x] 编写质量检测的单元测试
- [x] 编写AI润色的单元测试
- [x] 测试完整的论文创作流程
- [x] 性能优化和用户体验改进

## Stripe支付功能（新增）
- [x] 使用webdev_add_feature集成Stripe功能
- [x] 设计定价方案（单次购买、订阅套餐）
- [x] 创建产品和价格配置
- [x] 实现支付流程页面
- [x] 实现订阅管理功能
- [x] 实现支付成功/失败处理
- [x] 添加用户订阅状态检查
- [x] 根据订阅状态限制功能访问
- [x] 测试支付流程

## 移除Stripe支付功能
- [x] 移除Stripe相关的路由和API
- [x] 移除Stripe相关的前端页面
- [x] 移除Stripe相关的依赖
- [x] 清理数据库中的Stripe字段

## 用户仪表板开发
- [x] 创建仪表板页面组件
- [x] 实现论文创作统计API
- [x] 展示已生成论文数量
- [x] 展示质量评分趋势图表
- [x] 展示常用引用格式分布
- [x] 提供论文质量对比分析
- [x] 显示改进建议

## 参考文献管理界面
- [x] 在编辑器中添加参考文献管理侧边栏
- [x] 实现文献搜索界面
- [x] 实现文献列表展示
- [x] 支持添加/删除文献
- [x] 支持切换引用格式
- [x] 一键插入引用到论文

## 质量检测结果展示
- [x] 创建质量检测结果页面
- [x] 展示总体评分和各项评分
- [x] 展示发现的问题列表
- [x] 展示改进建议
- [x] 在编辑器中集成质量检测按钮
- [x] 查看历史检测记录
- [x] 提供质量趋势对比

## AI润色功能集成
- [x] 在编辑器中添加润色工具栏
- [x] 实现文本选中后显示润色按钮
- [x] 创建润色选项对话框
- [x] 展示多个改写建议
- [x] 支持一键应用建议
- [x] 添加润色类型选择（表达/语法/学术/综合）

## 修复生成全文功能（紧急）
- [x] 检查服务器日志查看错误信息
- [x] 检查生成全文API的代码逻辑
- [x] 检查LLM调用是否正常
- [x] 修复生成全文失败的问题（参数名称不匹配）
- [x] 添加更详细的错误提示
- [x] 测试验证修复效果（26个测试通过，包括新增的API参数测试）

## 修复paperId未定义问题（紧急）
- [x] 检查PaperGenerate页面中paperId的获取逻辑
- [x] 检查URL参数解析是否正确
- [x] 修复paperId为undefined的问题（添加有效性检查和调试日志）
- [x] 添加详细的前后端日志以进行问题诊断
- [ ] 测试验证修复效果

## 集成Fluent UI Web设计系统
- [x] 安装Fluent UI React组件库
- [x] 配置Fluent UI主题系统
- [ ] 替换现有shadcn/ui组件为Fluent UI组件
- [ ] 更新全局样式为Fluent Design风格
- [x] 调整色彩方案符合Fluent Design规范

## 深色模式支持
- [x] 实现主题切换功能
- [x] 配置深色模式主题变量
- [x] 添加主题切换按钮到导航栏
- [x] 保存用户主题偏好到localStorage
- [ ] 支持系统主题自动切换

## PWA特性
- [x] 创建manifest.json配置文件
- [x] 添加应用图标（多种尺寸）
- [x] 实现Service Worker离线支持
- [x] 配置缓存策略
- [x] 添加安装提示功能
- [ ] 测试离线访问功能
- [ ] 优化移动端响应式布局

## 测试和优化
- [x] 测试深色/浅色模式切换
- [x] 测试PWA安装功能
- [x] 测试离线访问
- [x] 性能优化和加载速度测试
